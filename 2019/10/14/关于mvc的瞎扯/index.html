<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.9.0"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="author" content="愉快饭"><meta name="description" content="游戏开发学习博客"><link rel="alternative" href="/atom.xml" title="愉快饭的博客" type="application/atom+xml"><link rel="icon" href="images/favicon.png"><title>关于mvc的瞎扯 - 愉快饭的博客</title><link rel="stylesheet" href="../../../../css/main.css"><link rel="stylesheet" href="../../../../js/fancybox/jquery.fancybox.min.css"><!--[if lt IE 9]><script>(function(a,b){a="abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video".split(" ");for(b=a.length-1;b>=0;b--)document.createElement(a[b])})()</script><![endif]--><script src="../../../../js/jquery-3.1.1.min.js"></script><script src="../../../../js/fancybox/jquery.fancybox.min.js"></script></head><body style="opacity:0"><header class="head"><h1 class="head-title u-fl"><a href="/">愉快饭的博客</a></h1><nav class="head-nav u-fr"><ul class="head-nav__list"><li class="head-nav__item"><a class="head-nav__link" href="../../../../tags">标签</a></li><li class="head-nav__item"><a class="head-nav__link" href="../../../../archives">目录</a></li></ul></nav></header><main class="main"><article class="post"><header class="post__head"><time class="post__time" datetime="2019-10-14T02:39:50.000Z">2019 - 10 - 14 10:39:50</time><h1 class="post__title"><a href>关于mvc的瞎扯</a></h1><div class="post__main echo"><blockquote>
<p>最近的调研项目整体比较大，为了更快速的进行程序迭代和结构功能修改，了解mvc框架，这里记录一下个人理解。</p>
</blockquote>
<p>距个人用unity写Demo也算有两年了<del>虽然实际使用可能半年不到</del>,实习以前并没有学习了解框架。</p>
<p>因此，管理结构最常用就是 <font color="orange">常规的面向对象</font>，一个物体有什么属性，他有什么方法，他的材质，颜色，都在他一个类中设置。我暂且形容为<strong>村民框架</strong>。</p>
<p>在村民框架里，你可以设置村长<del>manager</del>，设置广播站<del>message</del>。假如<strong>功能1</strong>:村民vA打了村民vB。那么就调用vA中的Attack(villager target)，方法中播放动画实现攻击效果啊，以及调用target也就是vB的beAttack()方法。</p>
<p>对于<strong>功能2</strong>，很直接清晰明了，但是来个更复杂一点的功能2:vA和vB互殴，但我们若直接在beAttack()中调用attack，难么我们就只能看到一个村民倒在地上的互殴结果。要想在攻击动画结束再进行下一次攻击。只要监听动画的结束事件回调attack()就好;现在我们就可以看到两个村民一下一下的攻击，直到一方倒地。</p>
<p>看起来功能2也没有任何问题。但是，我们得到的战斗结果，也得是n秒之后，若有<strong>功能3</strong>:按钮button：跳过冗长无聊的战斗过程，直接看到哪个村民倒地不起。那么我们就得再写一个<strong>方法quick</strong>，根据两村民的数值快速战斗，获取战斗结果。根据结果改变 让村民vA躺下，让vB胜利欢呼之类。但是很明显<strong>功能3</strong>和<strong>功能2</strong>就只有等待动画播放完毕这些代码不同，若更改需求比如更复杂的技能，攻速，每次就得更改两处。</p>
<p><code>个人瞎扯经验：让model和view杂糅在一起会不利于迭代，尤其是view会改变的时候</code></p>
<p>前辈和我讲mvc，写了一大片，我记住的就是：<font color="#0f9faf">mc不知道 view的存在，没有view，程序依然能跑</font>。</p>
<p>现在用mvc思路实现<del>鄙人mvc</del>实现<strong>功能3</strong>:<strong>方法quick**</strong>中每次循环记录到string中，比如“a attack b ,b.hp-=10,battleEnd=false”之类，广播出去，view层监听事件，根据string执行动画。<del>有点命令模式的调调</del></p>
</div></header><footer class="post__foot u-cf"><ul class="post__tag u-fl"><li class="post__tag__item"><a class="post__tag__link" href="../../../../tags/mvc/">mvc</a></li></ul></footer></article></main><footer class="foot"><div class="foot-copy">&copy; 2016 - 2020 愉快饭</div></footer><script src="../../../../js/scroller.js"></script><script src="../../../../js/main.js"></script></body></html>